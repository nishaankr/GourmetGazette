{"remainingRequest":"C:\\Users\\nisha\\OneDrive\\Desktop\\FireBlogs-YouTube-Finished-Source-Code\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\nisha\\OneDrive\\Desktop\\FireBlogs-YouTube-Finished-Source-Code\\src\\views\\CreatePost.vue?vue&type=style&index=0&id=b2d47914&lang=scss&scoped=true&","dependencies":[{"path":"C:\\Users\\nisha\\OneDrive\\Desktop\\FireBlogs-YouTube-Finished-Source-Code\\src\\views\\CreatePost.vue","mtime":1682500011601},{"path":"C:\\Users\\nisha\\OneDrive\\Desktop\\FireBlogs-YouTube-Finished-Source-Code\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\nisha\\OneDrive\\Desktop\\FireBlogs-YouTube-Finished-Source-Code\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\nisha\\OneDrive\\Desktop\\FireBlogs-YouTube-Finished-Source-Code\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\nisha\\OneDrive\\Desktop\\FireBlogs-YouTube-Finished-Source-Code\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\nisha\\OneDrive\\Desktop\\FireBlogs-YouTube-Finished-Source-Code\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\nisha\\OneDrive\\Desktop\\FireBlogs-YouTube-Finished-Source-Code\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouY3JlYXRlLXBvc3QgewogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICBoZWlnaHQ6IDEwMCU7CiAgYnV0dG9uIHsKICAgIG1hcmdpbi10b3A6IDA7CiAgfQogIC5yb3V0ZXItYnV0dG9uIHsKICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTsKICAgIGNvbG9yOiAjZmZmOwogIH0KICBsYWJlbCwKICBidXR0b24sCiAgLnJvdXRlci1idXR0b24gewogICAgdHJhbnNpdGlvbjogMC41cyBlYXNlLWluLW91dCBhbGw7CiAgICBhbGlnbi1zZWxmOiBjZW50ZXI7CiAgICBmb250LXNpemU6IDE0cHg7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICBib3JkZXItcmFkaXVzOiAyMHB4OwogICAgcGFkZGluZzogMTJweCAyNHB4OwogICAgY29sb3I6ICNmZmY7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzAzMDMwOwogICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwoKICAgICY6aG92ZXIgewogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDQ4LCA0OCwgNDgsIDAuNyk7CiAgICB9CiAgfQogIC5jb250YWluZXIgewogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgaGVpZ2h0OiAxMDAlOwogICAgcGFkZGluZzogMTBweCAyNXB4IDYwcHg7CiAgfQogIC8vIGVycm9yIHN0eWxpbmcKICAuaW52aXNpYmxlIHsKICAgIG9wYWNpdHk6IDAgIWltcG9ydGFudDsKICB9CiAgLmVyci1tZXNzYWdlIHsKICAgIHdpZHRoOiAxMDAlOwogICAgcGFkZGluZzogMTJweDsKICAgIGNvbG9yOiAjZmZmOwogICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgbWFyZ2luLWJvdHRvbTogMTBweDsKICAgIGJhY2tncm91bmQ6ICMzMDMwMzA7CiAgICBvcGFjaXR5OiAxOwogICAgdHJhbnNpdGlvbjogMC41cyBlYXNlIGFsbDsKICAgIHAgewogICAgICBmb250LXNpemU6IDE0cHg7CiAgICB9CiAgICBzcGFuIHsKICAgICAgZm9udC13ZWlnaHQ6IDYwMDsKICAgIH0KICB9CiAgLmJsb2ctaW5mbyB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgbWFyZ2luLWJvdHRvbTogMzJweDsKCiAgICBpbnB1dCB7CiAgICAgIHRyYW5zaXRpb246IDAuNXMgZWFzZS1pbi1vdXQgYWxsOwogICAgICBwYWRkaW5nOiAxMHB4IDRweDsKICAgICAgYm9yZGVyOiBub25lOwogICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzMwMzAzMDsKICAgICAgJjpudGgtY2hpbGQoMSkgewogICAgICAgIG1pbi13aWR0aDogMzAwcHg7CiAgICAgIH0KICAgICAgJjpmb2N1cyB7CiAgICAgICAgb3V0bGluZTogbm9uZTsKICAgICAgICBib3gtc2hhZG93OiAwIDFweCAwIDAgIzMwMzAzMDsKICAgICAgfQogICAgfQogICAgLnVwbG9hZC1maWxlIHsKICAgICAgZmxleDogMTsKICAgICAgbWFyZ2luLWxlZnQ6IDE2cHg7CiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgZGlzcGxheTogZmxleDsKICAgICAgbGFiZWwgewogICAgICAgIG1hcmdpbi1yaWdodDogMTZweDsKICAgICAgfQogICAgICBpbnB1dCB7CiAgICAgICAgZGlzcGxheTogbm9uZTsKICAgICAgfQogICAgICAucHJldmlldyB7CiAgICAgICAgbWFyZ2luLXJpZ2h0OiAxNnB4OwogICAgICAgIHRleHQtdHJhbnNmb3JtOiBpbml0aWFsOwogICAgICB9CiAgICAgIHNwYW4gewogICAgICAgIGZvbnQtc2l6ZTogMTJweDsKICAgICAgICBtYXJnaW4tbGVmdDogMTZweDsKICAgICAgICBhbGlnbi1zZWxmOiBjZW50ZXI7CiAgICAgIH0KICAgIH0KICB9CiAgLmJsb2ctYWN0aW9ucyB7CiAgICBidXR0b24gewogICAgICBtYXJnaW4tcmlnaHQ6IDIwcHg7CiAgICB9CiAgfQogIC5lZGl0b3IgewogICAgaGVpZ2h0OiA0MHZoOwogICAgZGlzcGxheTogZmxleDsKICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICBtYXJnaW4tYm90dG9tOiA3OHB4OwogICAgLnF1aWxsV3JhcHBlciB7CiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgZGlzcGxheTogZmxleDsKICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgaGVpZ2h0OiAxMDAlOwogICAgICAucWwtZWRpdG9yIHsKICAgICAgICBwYWRkaW5nOiAyMHB4IDE2cHggMzBweDsKICAgICAgfQogICAgfQogIH0KfQo="},{"version":3,"sources":["CreatePost.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0QA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CreatePost.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"create-post\">\n    <BlogPhotoPreview\n      v-show=\"this.$store.state.blogPhotoPreview\"\n    ></BlogPhotoPreview>\n    <Loading v-show=\"loading\"></Loading>\n    <div class=\"container\">\n      <div :class=\"{ invisible: !error }\" class=\"err-message\">\n        <p><span>Error:</span> {{ this.errorMsg }}</p>\n      </div>\n      <div class=\"blog-info\">\n        <input type=\"text\" placeholder=\"Enter Blog Title\" v-model=\"blogTitle\" />\n        <div class=\"upload-file\">\n          <label for=\"blog-photo\">Upload Cover Photo</label>\n          <input\n            type=\"file\"\n            ref=\"blogPhoto\"\n            name=\"\"\n            id=\"blog-photo\"\n            accept=\".png, .jpg, .jpeg\"\n            @change=\"fileChange\"\n          />\n          <button\n            class=\"preview\"\n            :class=\"{ 'button-inactive': !this.$store.state.blogPhotoFileURL }\"\n            @click=\"openPreview\"\n          >\n            Preview your Photo\n          </button>\n          <span>File chosen: {{ this.$store.state.blogCoverPhotoName }}</span>\n        </div>\n      </div>\n      <div class=\"editor\">\n        <vue-editor\n          :editorOptions=\"editorSettings\"\n          v-model=\"blogHTML\"\n          use-custom-image-handler\n          @image-added=\"imageHandler\"\n        ></vue-editor>\n      </div>\n      <div class=\"blog-actions\">\n        <button @click=\"uploadBlog\">Publish Blog</button>\n        <router-link class=\"router-button\" :to=\"{ name: 'BlogPreview' }\"\n          >Post Preview</router-link\n        >\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport BlogPhotoPreview from \"../components/BlogPhotoPreview.vue\";\nimport Loading from \"../components/Loading.vue\";\n\nimport firebase from \"firebase/app\";\nimport \"firebase/storage\";\nimport db from \"../firebase/firebaseInit\";\n\nimport Quill from \"quill\";\nimport { VueEditor } from \"vue2-editor\";\nwindow.Quill = Quill;\nconst ImageResize = require(\"quill-image-resize-module\").default;\nQuill.register(\"modules/imageResize\", ImageResize);\n\nexport default {\n  components: { BlogPhotoPreview, VueEditor, Loading },\n  data() {\n    return {\n      loading: null,\n      file: null,\n      error: null,\n      errorMsg: null,\n\n      editorSettings: {\n        modules: {\n          imageResize: {},\n        },\n      },\n    };\n  },\n  methods: {\n    fileChange() {\n      this.file = this.$refs.blogPhoto.files[0];\n      const fileName = this.file.name;\n      this.$store.commit(\"fileNameChange\", fileName);\n      this.$store.commit(\"createFileURL\", URL.createObjectURL(this.file));\n    },\n    openPreview() {\n      this.$store.commit(\"openPhotoPreview\");\n    },\n    // imageHandler(file, Editor, cursorLocation, resetUploader) {\n    //   const storageRef = firebase.storage().ref();\n    //   console.log(\"storageRef\", storageRef);\n    //   const docRef = storageRef.child(`documents/blogPostPhotos/${file.name}`);\n    //   docRef.put(file).on(\n    //     \"state_changed\",\n    //     (snapshot) => {\n    //       console.log(\"snapshot\", snapshot);\n    //     },\n    //     (err) => {\n    //       console.log(\"err\", err);\n    //     },\n    //     async () => {\n    //       const downloadURL = await docRef.getDownloadURL();\n    //       Editor.insertEmbed(cursorLocation, \"image\", downloadURL);\n    //       resetUploader();\n    //     }\n    //   );\n    // },\n    imageHandler(file, Editor, cursorLocation, resetUploader) {\n      const storageRef = firebase.storage().ref();\n      const docRef = storageRef.child(`documents/blogPostPhotos/${file.name}`);\n      docRef.put(file).on(\n        \"state_changed\",\n        (snapshot) => {\n          console.log(snapshot);\n        },\n        (err) => {\n          console.log(err);\n        },\n        async () => {\n          const downloadURL = await docRef.getDownloadURL();\n          Editor.insertEmbed(cursorLocation, \"image\", downloadURL);\n          resetUploader();\n        }\n      );\n    },\n    // uploadBlog() {\n    //   if (this.blogTitle.length !== 0 && this.blogHTML.length !== 0) {\n    //     if (this.file) {\n    //       this.loading = true;\n    //       const storageRef = firebase.storage().ref();\n    //       const docRef = storageRef.child(\n    //         `documents/BlogCoverPhotos/${this.$store.state.blogCoverPhotoName}`\n    //       );\n    //       docRef.put(this.file).on(\n    //         \"state_changed\",\n    //         (snapshot) => {\n    //           console.log(\"snapshot\", snapshot);\n    //         },\n    //         (err) => {\n    //           console.log(\"err\", err);\n    //           this.loading = false;\n    //         },\n    //         async () => {\n    //           const downloadURL = await docRef.getDownloadURL();\n    //           const timestamp = await Date.now();\n    //           const dataBase = await db.collection(\"blogPosts\").doc();\n\n    //           await dataBase.set({\n    //             blogID: dataBase.id,\n    //             blogHTML: this.blogHTML,\n    //             blogCoverPhoto: downloadURL,\n    //             blogCoverPhotoName: this.blogCoverPhotoName,\n    //             blogTitle: this.blogTitle,\n    //             profileId: this.profileId,\n    //             date: timestamp,\n    //           });\n    //           await this.$store.dispatch(\"getPost\");\n    //           this.loading = false;\n    //           this.$router.push({\n    //             name: \"ViewBlog\",\n    //             params: { blogid: dataBase.id },\n    //           });\n    //         }\n    //       );\n    //       return;\n    //     }\n    //     this.error = true;\n    //     this.errorMsg = \"Please ensure you uploaded a cover photo!\";\n    //     setTimeout(() => {\n    //       this.error = false;\n    //     }, 4000);\n    //     return;\n    //   }\n    //   this.error = true;\n    //   this.errorMsg = \"Please ensure Blog Title & Blog Post have been filled!\";\n    //   setTimeout(() => {\n    //     this.error = false;\n    //   }, 4000);\n    //   return;\n    // },\n    uploadBlog() {\n      if (this.blogTitle.length !== 0 && this.blogHTML.length !== 0) {\n        if (this.file) {\n          this.loading = true;\n          const storageRef = firebase.storage().ref();\n          const docRef = storageRef.child(\n            `documents/BlogCoverPhotos/${this.$store.state.blogPhotoName}`\n          );\n          docRef.put(this.file).on(\n            \"state_changed\",\n            (snapshot) => {\n              console.log(snapshot);\n            },\n            (err) => {\n              console.log(err);\n              this.loading = false;\n            },\n            async () => {\n              const downloadURL = await docRef.getDownloadURL();\n              const timestamp = await Date.now();\n              const dataBase = await db.collection(\"blogPosts\").doc();\n\n              await dataBase.set({\n                blogID: dataBase.id,\n                blogHTML: this.blogHTML,\n                blogCoverPhoto: downloadURL,\n                blogCoverPhotoName: this.blogCoverPhotoName,\n                blogTitle: this.blogTitle,\n                profileId: this.profileId,\n                date: timestamp,\n              });\n              await this.$store.dispatch(\"getPost\");\n              this.loading = false;\n              this.$router.push({\n                name: \"ViewBlog\",\n                params: { blogid: dataBase.id },\n              });\n            }\n          );\n          return;\n        }\n        this.error = true;\n        this.errorMsg = \"Please ensure you uploaded a cover photo!\";\n        setTimeout(() => {\n          this.error = false;\n        }, 5000);\n        return;\n      }\n      this.error = true;\n      this.errorMsg = \"Please ensure Blog Title & Blog Post has been filled!\";\n      setTimeout(() => {\n        this.error = false;\n      }, 5000);\n      return;\n    },\n  },\n  computed: {\n    profileId() {\n      return this.$store.state.profileId;\n    },\n    blogCoverPhotoName() {\n      return this.$store.state.blogCoverPhotoName;\n    },\n    blogTitle: {\n      get() {\n        return this.$store.state.blogTitle;\n      },\n      set(payload) {\n        this.$store.commit(\"updateBlogTitle\", payload);\n      },\n    },\n    blogHTML: {\n      get() {\n        return this.$store.state.blogHTML;\n      },\n      set(payload) {\n        this.$store.commit(\"newBlogPost\", payload);\n      },\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.create-post {\n  position: relative;\n  height: 100%;\n  button {\n    margin-top: 0;\n  }\n  .router-button {\n    text-decoration: none;\n    color: #fff;\n  }\n  label,\n  button,\n  .router-button {\n    transition: 0.5s ease-in-out all;\n    align-self: center;\n    font-size: 14px;\n    cursor: pointer;\n    border-radius: 20px;\n    padding: 12px 24px;\n    color: #fff;\n    background-color: #303030;\n    text-decoration: none;\n\n    &:hover {\n      background: rgba(48, 48, 48, 0.7);\n    }\n  }\n  .container {\n    position: relative;\n    height: 100%;\n    padding: 10px 25px 60px;\n  }\n  // error styling\n  .invisible {\n    opacity: 0 !important;\n  }\n  .err-message {\n    width: 100%;\n    padding: 12px;\n    color: #fff;\n    border-radius: 8px;\n    margin-bottom: 10px;\n    background: #303030;\n    opacity: 1;\n    transition: 0.5s ease all;\n    p {\n      font-size: 14px;\n    }\n    span {\n      font-weight: 600;\n    }\n  }\n  .blog-info {\n    display: flex;\n    margin-bottom: 32px;\n\n    input {\n      transition: 0.5s ease-in-out all;\n      padding: 10px 4px;\n      border: none;\n      border-bottom: 1px solid #303030;\n      &:nth-child(1) {\n        min-width: 300px;\n      }\n      &:focus {\n        outline: none;\n        box-shadow: 0 1px 0 0 #303030;\n      }\n    }\n    .upload-file {\n      flex: 1;\n      margin-left: 16px;\n      position: relative;\n      display: flex;\n      label {\n        margin-right: 16px;\n      }\n      input {\n        display: none;\n      }\n      .preview {\n        margin-right: 16px;\n        text-transform: initial;\n      }\n      span {\n        font-size: 12px;\n        margin-left: 16px;\n        align-self: center;\n      }\n    }\n  }\n  .blog-actions {\n    button {\n      margin-right: 20px;\n    }\n  }\n  .editor {\n    height: 40vh;\n    display: flex;\n    flex-direction: column;\n    margin-bottom: 78px;\n    .quillWrapper {\n      position: relative;\n      display: flex;\n      flex-direction: column;\n      height: 100%;\n      .ql-editor {\n        padding: 20px 16px 30px;\n      }\n    }\n  }\n}\n</style>\n"]}]}